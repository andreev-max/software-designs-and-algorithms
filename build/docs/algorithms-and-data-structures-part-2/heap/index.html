<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-algorithms-and-data-structures-part-2/heap">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">4. Heap. Heap Sort. Priority Queue | Software Designs and Algorithms</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/algorithms-and-data-structures-part-2/heap"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="4. Heap. Heap Sort. Priority Queue | Software Designs and Algorithms"><meta data-rh="true" name="description" content="The (binary) heap data structure is an array object that we can view as a nearly complete binary tree. Each node of the tree corresponds to an element of the array. The tree is completely filled on all levels except possibly the lowest, which is filled from the left up to a point. An array A that represents a heap is an object with two attributes"><meta data-rh="true" property="og:description" content="The (binary) heap data structure is an array object that we can view as a nearly complete binary tree. Each node of the tree corresponds to an element of the array. The tree is completely filled on all levels except possibly the lowest, which is filled from the left up to a point. An array A that represents a heap is an object with two attributes"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/algorithms-and-data-structures-part-2/heap"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/algorithms-and-data-structures-part-2/heap" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/algorithms-and-data-structures-part-2/heap" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.4e6bc769.css">
<link rel="preload" href="/assets/js/runtime~main.35869dc7.js" as="script">
<link rel="preload" href="/assets/js/main.0213352a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Software Designs and Algorithms" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Software Designs and Algorithms" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Software Designs and Algorithms</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/contents">Start learning</a><a class="navbar__item navbar__link" href="/docs/Introduction/help">Help</a></div><div class="navbar__items navbar__items--right"><a href="https://git.epam.com/viktor_soroka/software-designs-and-algorithms" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gitlab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Introduction/intro">Introduction</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contents">Software Designs and Algorithms: Contents</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/building-blocks-of-oop-part-1/programming_paradigm">2. Building Blocks of OOP, Part 1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/building-blocks-of-oop-part-2/composition">3. Building Blocks of OOP, Part 2</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/functional-programming/general_fp">4. Functional Programming</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/design-patterns/design_patterns">5. Design Patterns</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/solid-principles/introduction">6. SOLID Principles</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/algorithms-and-data-structures-part-1/elementary_data_structures">7. Algorithms and Data Structures, Part 1</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/algorithms-and-data-structures-part-2/algorithms">8. Algorithms and Data Structures, Part 2</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/algorithms">1. Algorithms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/insertion_sort">2. Insertion Sort</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/divide_and_conquer">3. Divide and Conquer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/heap">4. Heap. Heap Sort. Priority Queue</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/other_sorting_algorithms">5. Other sorting algorithms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/algorithms-and-data-structures-part-2/hometask">6. 📚 Home Task</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">8. Algorithms and Data Structures, Part 2</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">4. Heap. Heap Sort. Priority Queue</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>4. Heap. Heap Sort. Priority Queue</h1><p>The <strong>(binary) heap</strong> data structure is an array object that we can view as a nearly complete binary tree. Each node of the tree corresponds to an element of the array. The tree is completely filled on all levels except possibly the lowest, which is filled from the left up to a point. An array <code>A</code> that represents a heap is an object with two attributes: <code>A.length</code>, which (as usual) gives the number of elements in the array, and A.heap-size, which represents how many elements in the heap are stored within array A. That is, although <code>A[1 .. A.length]</code> may contain numbers, only the elements in <code>A[1 .. A.heap-size]</code>, where <code>0 ≤ A.heap-size ≤ A.length</code>, are valid elements of the heap. The root of the tree is <code>A[1]</code>, and given the index i of a node, we can easily compute the indices of its parent, left child, and right child:</p><ul><li>Parent: <code>i/2</code></li><li>Left: <code>2i</code></li><li>Right: <code>2i + 1</code></li></ul><p>There are two kinds of binary heaps: max-heaps and min-heaps. In both kinds, the values in the nodes satisfy a <strong>heap property</strong>, the specifics of which depend on the kind of heap. In a <strong>max-heap</strong>, the <strong>max-heap property</strong> is that for every node i other than the root: <code>A[Parent(i)] ≥ A[i]</code>. Thus, the largest element in a max-heap is stored at the root, and the subtree rooted at a node contains values no larger than that contained at the node itself. A <strong>min-heap</strong> is organized in the opposite way; the <strong>min-heap property</strong> is that for every node i other than the root: <code>A[Parent(i)] ≤ A[i]</code>. The smallest element in a min-heap is at the root. For the heapsort algorithm, we use max-heaps. Min-heaps commonly implement priority queues.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="41-heap">4.1 Heap<a class="hash-link" href="#41-heap" title="Direct link to heading">​</a></h2><p>What does this heap look like? We have an array that we can represent as a tree. The numbers above the element in the array and the heap are the same, you can see how they are substituted into the leaves.</p><p>Figure 4.1</p><p><img loading="lazy" alt="Heap" src="/assets/images/heap_1-7a44aa8fb82dce6a7d4d470cab9a979f.png" width="437" height="320" class="img_ev3q"></p><p>Figure 4.2</p><p><img loading="lazy" alt="Heap" src="/assets/images/heap_2-7915e4e11e0b3c17068ad1be69dd0445.png" width="495" height="264" class="img_ev3q"></p><p>It doesn&#x27;t have to be an array, different programming languages have different data structures. For following example it is more convenient to consider it as an array.</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">Figure 2.1</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">maxHeapify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> l </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> r </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">right</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">heapSize </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">l</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    largest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> l</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    largest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">heapSize </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">largest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    largest </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> r</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">largest </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// exchange A[i] with A[largest]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">largest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">largest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">maxHeapify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">largest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Array <code>A</code>, which will represent our heap, also has attributes such as length - the number of elements in the array. And heap-size, the number of elements in the heap. The root of the tree is the first element in the array. We can easily calculate all the indexes of the nodes. The parent node or node is <code>i/2</code>. The left child is <code>2i</code> and the right is <code>2i + 1</code>.</p><p>There are two types of our heaps. If max hip has the largest root node and the heap goes down, min has a minimum root node and goes up.</p><p>For heap sorting, max heap is usually used, and min heap is used for building a priority queue.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="42-maintaining-the-heap-property">4.2 Maintaining the Heap Property<a class="hash-link" href="#42-maintaining-the-heap-property" title="Direct link to heading">​</a></h2><p>In order to maintain the max-heap property, we call the function <code>maxHeapify</code>. When it is called, <code>maxHeapify</code> assumes that the binary trees rooted at <code>left(i)</code> and <code>right(i)</code> are max-heaps, but that <code>A[i]</code> might be smaller than its children, thus violating the max-heap property. Function <code>maxHeapify</code> lets the value at <code>A[i]</code> &quot;float down&quot; in the max-heap so that the subtree rooted at index <code>i</code> obeys the max-heap property.</p><p>Figure 4.3</p><p><img loading="lazy" alt="Heap" src="/assets/images/heap_3-3000b36845c6140d05ab40296961aeb9.png" width="629" height="454" class="img_ev3q"></p><p>This heap must somehow support itself, for example, when inserting or when deleting elements a heap rebuild should take place. We have a procedure, let&#x27;s call it <code>maxHeapify</code>. When it is called, we assume that the left and right nodes are also maxHeap. But these nodes can be smaller than its children, and we have to let it go down below. As we can see, the second element has ceased to meet the requirement, and we check the left heap until we reach the sheet.</p><p>At each step, the largest of the elements <code>A[i]</code>, <code>A[left(i)]</code>, and <code>A[right(i)]</code> is determined, and its index is stored in largest. If <code>A[i]</code> is largest, then the subtree rooted at node <code>i</code> is already a max-heap and the procedure terminates. Otherwise, one of the two children has the largest element, and <code>A[i]</code> is swapped with <code>A[largest]</code>, which causes node <code>i</code> and its children to satisfy the max-heap property. The node indexed by <code>largest</code>, however, now has the original value <code>A[i]</code>, and thus the subtree rooted at largest might violate the max-heap property. Consequently, we call <code>maxHeapify</code> recursively on that subtree.</p><p>The running time of <code>maxHeapify</code> on a subtree of size <code>n</code> rooted at a given node <code>i</code> is the <code>Θ(1)</code> time to fix up the relationships among the elements <code>A[i]</code>, <code>A[left(i)]</code>, and <code>A[right(i)]</code>, plus the time to run <code>maxHeapify</code> on a subtree rooted at one of the children of node <code>i</code> (assuming that the recursive call occurs). The children&#x27;s subtrees each have size at most <code>2n/3</code> - the worst case occurs when the bottom level of the tree is exactly half full—and therefore we can describe the running time of <code>maxHeapify</code> by the recurrence:</p><div class="formula"><img loading="lazy" src="https://latex.codecogs.com/svg.image?T(n)\leqslant&amp;space;T\frac{2n}{3}&amp;plus;\theta(1)" title="T(n)\leqslant T\frac{2n}{3}+\theta(1)" class="img_ev3q"></div><p>The solution to this recurrence, by case <code>2</code> of the master theorem is <code>T(n) = O(lgn)</code>.</p><p>And so, let&#x27;s analyze the algorithm. We define the largest element of the three, then swap and so on, omit the element. For our first node, we have a Tetta from <code>n</code>. For a single node, then we split into under trees and go down under the trees. We have a maximum number of child subtrees, in the worst case, <code>2n/3</code>. This is when we go from half to the very bottom.
Thus, the following time is obtained: <code>T(n) = O(lgn)</code>. Turning to the master theorem, we get the result: <code>lg6 = 2.6</code>. This is a very good result, we need to spend less resources than our operations.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="43-building-a-heap">4.3 Building a Heap<a class="hash-link" href="#43-building-a-heap" title="Direct link to heading">​</a></h2><p>The heap should be built using method <code>buildMaxHeap</code>. To do this, you need to run the entire array through the <code>maxHeapify</code> function. As we see the complexity becomes <code>nlg(n)</code>, we have a linear dependency - we apply a function for each element and call <code>maxHeapify</code> itself. We can use the procedure <code>maxHeapify</code> in a bottom-up manner to convert an array <code>A[1..n]</code>, where <code>n = A.length</code>, into a max-heap. The elements in the subarray <code>A[(n/2+1)..n]</code> are all leaves of the tree, and so each is a 1-element heap to begin with. The function <code>buildMaxHeap</code> goes through the remaining nodes of the tree and runs <code>maxHeapify</code> on each one.</p><p>We can compute a simple upper bound on the running time of buildMaxHeap:</p><ul><li>Each call to <code>maxHeapify</code> costs <code>O(lgn)</code> time.</li><li>Procedure buildMaxHeap makes <code>O(n)</code> such calls.</li><li>Thus, the running time is <code>O(nlgn)</code>. This upper bound, though correct, is not asymptotically tight.</li></ul><p>Figure 4.4</p><p><img loading="lazy" alt="Heap" src="/assets/images/heap_4-2e132f04bc4ad91f2ec3c4028f6c5735.png" width="460" height="518" class="img_ev3q"></p><p>We have an unsorted array, and we usually start in the middle. Each time the offset is made, the heap gets a complete look.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="44-heap-sort">4.4 Heap Sort<a class="hash-link" href="#44-heap-sort" title="Direct link to heading">​</a></h2><p>The heapsort algorithm starts by using <code>buildMaxHeap</code> to build a max-heap on the input array <code>A[1..n]</code>, where <code>n = A.length</code>. Since the maximum element of the array is stored at the root <code>A[1]</code>, we can put it into its correct final position by exchanging it with <code>A[n]</code>. If we now discard node <code>n</code> from the heap — and we can do so by simply decrementing <code>A.heapSize</code> - we observe that the children of the root remain max-heaps, but the new root element might violate the max-heap property. All we need to do is to restore the max-heap property, however, is call <code>maxHeapify</code>, which leaves a max-heap in <code>A[1..n-1]</code>. The heapsort algorithm then repeats this process for the max-heap of size <code>n - 1</code> down to a heap of size <code>2</code>.</p><p>The heapsort procedure takes time <code>O(nlgn)</code> since the call to <code>buildMaxHeap</code> takes time <code>O(n)</code> and each of the <code>n - 1</code> calls to <code>maxHeapify</code> takes time <code>O(lgn)</code>.</p><p>Based on this data structure, we can build a sort algorithm called &quot;heap sort&quot;. We have to build our heap from some dataset, and then starting from the first elements we put it in the first place and reduce the length with our heap, it remains in the array, but it is not part of the heap. Thus, each time we rebuild our heap, we will sort our array and each time we sort the smaller array. heapsort is thus executed for <code>nlgn</code>.</p><p>Figure 4.5</p><p><img loading="lazy" alt="Heap sort" src="/assets/images/heap_sort-6a8f7e518a105278bbfe3c0eb1f0f2c2.png" width="675" height="629" class="img_ev3q"></p><p>We take the first element and remove it from the heap when we put it first in the array. The tree is automatically rebuilt, now we take the first one again and put it in second place, and so on, until the heap ceases to exist and our array is completely sorted.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="45-priority-queue">4.5 Priority Queue<a class="hash-link" href="#45-priority-queue" title="Direct link to heading">​</a></h2><p>A <strong>priority queue</strong> is a data structure for maintaining a set <code>S</code> of elements, each with an associated value called a <strong>key</strong>. A <strong>max-priority queue</strong> supports the following operations:</p><ul><li><code>INSERT(S, x)</code> inserts the element <code>x</code> into the set <code>S</code>.</li><li><code>MAXIMUM(S)</code> returns the element of <code>S</code> with the largest key.</li><li><code>EXTRACT-MAX(S)</code> removes and returns the element of <code>S</code> with the largest key.</li><li><code>INCREASE-KEY(S, x, k)</code> increases the value of element <code>x</code>s key to the new value <code>k</code>, which is assumed to be at least as large as <code>x</code>s current key value.</li></ul><p>This is a very good sort, but in most cases it is not the most optimal sort. But for some reason we are considering it, and all because on the basis of the heap it is very good to build a queue with priority. This is how it is implemented in most programs. For example, where you can use this queue - schedule a job on the server or use an event-driven approach when modeling physical processes with great complexity. For example, an event occurs with a minimum priority, it is executed, the time is recalculated, inserted into the queue, and the event we need appears at the top. Also, there are queues with the highest priority or with the lowest. You can insert an element into it, you can take the maximum element, extract the maximum element, and you can change the priority of some element. For example, processor time, there is a queue of tasks that it executes in one clock cycle, it performs a task, the priority changes - we insert it into the queue and take it with the next priority.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/algorithms-and-data-structures-part-2/divide_and_conquer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">3. Divide and Conquer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/algorithms-and-data-structures-part-2/other_sorting_algorithms"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">5. Other sorting algorithms</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#41-heap" class="table-of-contents__link toc-highlight">4.1 Heap</a></li><li><a href="#42-maintaining-the-heap-property" class="table-of-contents__link toc-highlight">4.2 Maintaining the Heap Property</a></li><li><a href="#43-building-a-heap" class="table-of-contents__link toc-highlight">4.3 Building a Heap</a></li><li><a href="#44-heap-sort" class="table-of-contents__link toc-highlight">4.4 Heap Sort</a></li><li><a href="#45-priority-queue" class="table-of-contents__link toc-highlight">4.5 Priority Queue</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/contents">Start learning</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Introduction/help">Help</a></li></ul></div><div class="col footer__col"><div class="footer__title">Sources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://git.epam.com/viktor_soroka/software-designs-and-algorithms" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitlab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Software Designs and Algorithms, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.35869dc7.js"></script>
<script src="/assets/js/main.0213352a.js"></script>
</body>
</html>